<div class="task-list-container">
  <div class="header-section">
    <div class="filter-section">
      <label for="statusFilter">Filter by Status:</label>
      <select id="statusFilter" (change)="onStatusFilterChange($event)">
        <option value="">All</option>
        @for (status of statuses(); track status) {
          <option [value]="status">{{ status }}</option>
        }
      </select>
    </div>
    <button class="create-task-button" (click)="openCreateTaskModal()">Create New Task</button>
  </div>
  @for (task of filteredTasks(); track task.id) {
    <app-list-task-item
      [task]="task"
      (editTask)="openEditTaskModal($event)"
      (deleteTask)="deleteTask($event)">
    </app-list-task-item>
  }
</div>

<app-modal #taskModal [title]="selectedTask ? 'Edit Task' : 'Create Task'" (closed)="onModalClose()">
  @if (showTaskForm()) {
    <app-task-form [task]="selectedTask" (submitForm)="handleTaskFormSubmit($event)"></app-task-form>
  }
</app-modal>